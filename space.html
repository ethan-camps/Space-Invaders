<!DOCTYPE HTML>

<html>
<head>
  <meta charset="UTF-8">
  <title>Space Invaders</title>

  <!-- to get rid of favicon request in console -->
  <link rel="shortcut icon" href="">

  <link rel="stylesheet" type="text/css" href="invaders.css">

  <!-- P5 STUFF -->
  <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
  <script language="javascript" type="text/javascript" src="invaders.js"></script>
  <!--<script language="javascript" type="text/javascript" src="control.js"></script>-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script type='text/javascript' src='p5.dom.js'>
  </script>

  <script language="javascript" type="text/javascript" src="collide.js"></script>
   <script src="lib/p5.play.js" type="text/javascript"></script>



  <!-- SOCKET STUFF -->
  <script type="text/javascript" src="/socket.io/socket.io.js"></script>

 
  <script type="text/javascript">


  //ALL MY SOCKET STUFF
  var otherPlayer;

   var socket = io.connect();
    
    socket.on('connect', function() {
      console.log("Connected");

      socket.emit('newPlayer');
    });

    socket.on('newPlayer', function(){
      console.log('Player 2 has Connected');



      //create a green fighter
      // otherPlayer = createSprite(width/2,height/2);

    });


    //FIGHTER 2's CLIENT VIEW - receive the other person's position
    socket.on('fighter1Pos', function(data){
      console.log('fighter 1 position x: ' + data.x + ', y: ' + data.y);

      //drawOpp(data.x, data.y, data.r, 255, 0, 0);
      opponent.display(data.x,data.y);
    



      // otherPlayer.x = data.x;
      // otherPlayer.y = data.y;
    });

    socket.on('fighter1RotateLeft', function(data){

    console.log(' Fighter 1 Rotation: ' + data.r);

  
      someRotation = data.r;



    });




    // socket.on('fighterPos', function(data){ 

    //     console.log(data);

    // }


    

  // });

  </script>

  <style> body {padding: 0; margin: 0;}</style>
</head>

<body>

<div id="container">

    <div id="canvas">
    </div>

</div>

<div id="instruct">

<p class='instructions'>Use the arrow keys to move and shoot your gun using the spacebar. You can only withstand 3 hits of damage.</p>

</div>

 



 


</body>
</html>
